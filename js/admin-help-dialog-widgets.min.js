jQuery(document).ready(function(t){function i(){let e=t(".ephd-all-questions-list-container .ephd-faq-question-container").length,i=t(".ephd-all-questions-list-container .ephd-faq-question--active").length;t("#ephd-admin__no-question-message, #ephd-admin__assigned-question-message").hide(),0===e&&t("#ephd-admin__no-question-message").show(),0===i&&e>0&&t("#ephd-admin__assigned-question-message").show()}function a(){let e=t(".ephd-wp__widget-form #ephd-admin__notification-launcher-powered-by");"hide"==t('.ephd-wp__widget-form .ephd-input-group input[name="launcher_powered_by"]:checked').val()?e.show():e.hide()}function n(){t(".ephd-hd-faq__faqs-container").sortable({axis:"y",forceHelperSize:!0,forcePlaceholderSize:!0,placeholder:"ephd-sortable-placeholder",update:function(e,i){let a=new Array;t(this).find(".ephd-hd-faq__list__item-container").each(function(e){a.push(t(this).data("id"))}),t(".ephd-wp__widget-form--active").find('[name="faqs_sequence"]').val(a.join(","))}})}function d(){return window.location.hash.substr(1).split("&").reduce(function(e,t){let i=t.split("=");return e[i[0]]=i[1],e},{})}function o(){t("#ephd-help-dialog #ephd-hd__search-terms").prop("disabled",!0)}function _(){t(".ephd-wp__widget-form .ephd-wp__selected-locations-list").each(function(){let e=0,i=t(this).find("li");i.each(function(){++e<=15?t(this).removeClass("ephd-wp__location--hidden"):t(this).addClass("ephd-wp__location--hidden")});let a=t(this).closest(".ephd-wp__selected-locations-popup").find("a");i.length<=15?a.hide():a.show()})}function l(e){e&&e.preventDefault();let _=e?t(e.target).parents(".ephd-wp__widget-tab__item"):t(".ephd-wp__widget-tab__item.ephd-wp__widget-tab--active"),l=_.find(".ephd_edit_widget").data("id"),p=_.parents(".ephd-admin__section-wrap").find(".ephd-wp__widget-tab__item").length,r="Widget #"+ ++p,h={action:"ephd_load_widget_form",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,widget_id:void 0!==l?l:0,widget_name:r};t(".ephd-wp__widget-tab__item.ephd-wp__widget-tab--active").removeClass("ephd-wp__widget-tab--active"),_.addClass("ephd-wp__widget-tab--active"),S(h,function(e){e.error||void 0===e.message||(t(".ephd-admin__boxes-list__box-btn-wrap").hide(),t(".ephd-wp__widget-form").replaceWith(e.widget_form),t(".ephd-wp__widget-preview-content").html(e.preview),t("#ephd-public-styles-inline-css").html(e.demo_styles),s(),q(),c(),i(),b(),a(),n(),o(),x(),y(),u(),setTimeout(function(){let e=d();void 0!==e.tab&&t('.ephd-admin__form-tab[data-target="'+e.tab+'"]').trigger("click")},50),setTimeout(function(){t(window).trigger("resize")},60))})}function c(){let e=t('.ephd-wp__widget-form .ephd-admin__form-tab-wrap--search input[name="search_option"]'),i=t('.ephd-wp__widget-form .ephd-admin__form-tab-wrap--search input[name="search_posts"]'),a=t('.ephd-wp__widget-form .ephd-admin__form-tab-wrap--search select[name="search_kb"]');!0===t(e).prop("checked")?(i.parent().removeClass("ephd-admin__input-disabled"),a.parent().removeClass("ephd-admin__input-disabled"),i.prop("disabled",!1),a.prop("disabled",!1)):(i.parent().addClass("ephd-admin__input-disabled"),a.parent().addClass("ephd-admin__input-disabled"),i.prop("disabled",!0),a.prop("disabled",!0))}function s(){t(".ephd-wp__widget-form .ephd-admin__input-disabled").each(function(){t(this).find("input, select, textarea").prop("disabled",!0)})}function p(a){if(i(),t(a).closest(".ephd-admin__input-disabled").length>0)return e.preventDefault(),!1;let d=r(t(a).closest(".ephd-wp__widget-form--active"),"ephd_update_preview"),_=t(".ephd-wp__widget-preview").find(".ephd-hd-tab--active").data("ephd-target-tab");S(d,function(e){e.error||void 0===e.preview||(t(".ephd-wp__widget-preview-content").html(e.preview),t(".ephd-wp__widget-preview").attr("data-preview-size",d.dialog_width),t("#ephd-public-styles-inline-css").html(e.demo_styles),C(t('[data-ephd-target-tab="'+_+'"]')),setTimeout(function(){t(window).trigger("resize")},50),q(),n(),o(),y(),1==t(".ephd-admin__form-tab--active").data("preview")&&f(t(".ephd-admin__form-tab--active").data("target")))},!1,!1,void 0,t(".ephd-wp__widget-preview-content"))}function r(e,i){return{action:i,_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,widget_id:e.find('[name="widget_id"]').val(),widget_status:e.find('[name="widget_status"]').val(),initial_message_id:e.find('[name="initial_message_id"]').val(),colors_set:e.find('[name="colors_set"]:checked').val(),is_opened:t(".ephd-hd-toggle").hasClass("ephd-hd-toggle--on")?1:0,location_page_filtering:e.find('[name="location_page_filtering"]:checked').val(),location_pages_list:h(e,"page"),location_posts_list:h(e,"post"),location_cpts_list:h(e,"cpt"),location_language_filtering:e.find('[name="location_language_filtering"]').val(),location_wildcard_url:e.find('[name="location_wildcard_url"]').val(),trigger_delay_toggle:e.find('[name="trigger_delay_toggle"]:checked').val(),trigger_delay_seconds:e.find('[name="trigger_delay_seconds"]').val(),trigger_scroll_toggle:e.find('[name="trigger_scroll_toggle"]:checked').val(),trigger_scroll_percent:e.find('[name="trigger_scroll_percent"]').val(),launcher_mode:e.find('[name="launcher_mode"]:checked').val(),launcher_icon:e.find('[name="launcher_icon"]:checked').val(),dialog_initial_visibility:e.find('[name="dialog_initial_visibility"]:checked').val(),launcher_location:e.find('[name="launcher_location"]:checked').val(),launcher_bottom_distance:e.find('[name="launcher_bottom_distance"]').val(),launcher_start_wait:e.find('[name="launcher_start_wait"]').val(),initial_message_toggle:e.find('[name="initial_message_toggle"]:checked').val(),initial_message_text:e.find('[name="initial_message_text"]').val(),initial_message_mode:e.find('[name="initial_message_mode"]:checked').val(),initial_message_image_url:e.find('[name="initial_message_image_url"]').val(),search_option:e.find('[name="search_option"]:checked').length?"show_search":"hide_search",search_posts:e.find('[name="search_posts"]:checked').length?"on":"off",search_kb:e.find('[name="search_kb"]').val(),widget_name:e.find("#widget_name").val(),resource_phone_toggle:e.find('[name="resource_phone_toggle"]:checked').val(),resource_phone_country_code:e.find('[name="resource_phone_country_code"]').val(),resource_phone_number:e.find('[name="resource_phone_number"]').val(),resource_phone_number_image_url:e.find('[name="resource_phone_number_image_url"]').val(),resource_custom_link_toggle:e.find('[name="resource_custom_link_toggle"]:checked').val(),resource_custom_link_url:e.find('[name="resource_custom_link_url"]').val(),resource_custom_link_image_url:e.find('[name="resource_custom_link_image_url"]').val(),faqs_sequence:e.find('[name="faqs_sequence"]').val().split(","),contact_name_toggle:e.find('[name="contact_name_toggle"]:checked').val(),contact_subject_toggle:e.find('[name="contact_subject_toggle"]:checked').val(),contact_acceptance_checkbox:e.find('[name="contact_acceptance_checkbox"]:checked').val(),contact_acceptance_title_toggle:e.find('[name="contact_acceptance_title_toggle"]:checked').val(),back_text_color:e.find('[name="back_text_color"]').val(),back_text_color_hover_color:e.find('[name="back_text_color_hover_color"]').val(),back_background_color:e.find('[name="back_background_color"]').val(),back_background_color_hover_color:e.find('[name="back_background_color_hover_color"]').val(),launcher_background_color:e.find('[name="launcher_background_color"]').val(),launcher_background_hover_color:e.find('[name="launcher_background_hover_color"]').val(),launcher_icon_color:e.find('[name="launcher_icon_color"]').val(),launcher_icon_hover_color:e.find('[name="launcher_icon_hover_color"]').val(),background_color:e.find('[name="background_color"]').val(),not_active_tab_color:e.find('[name="not_active_tab_color"]').val(),tab_text_color:e.find('[name="tab_text_color"]').val(),main_title_text_color:e.find('[name="main_title_text_color"]').val(),welcome_title_color:e.find('[name="welcome_title_color"]').val(),welcome_title_link_color:e.find('[name="welcome_title_link_color"]').val(),breadcrumb_color:e.find('[name="breadcrumb_color"]').val(),breadcrumb_background_color:e.find('[name="breadcrumb_background_color"]').val(),breadcrumb_arrow_color:e.find('[name="breadcrumb_arrow_color"]').val(),faqs_qa_border_color:e.find('[name="faqs_qa_border_color"]').val(),faqs_question_text_color:e.find('[name="faqs_question_text_color"]').val(),faqs_question_background_color:e.find('[name="faqs_question_background_color"]').val(),faqs_question_active_text_color:e.find('[name="faqs_question_active_text_color"]').val(),faqs_question_active_background_color:e.find('[name="faqs_question_active_background_color"]').val(),faqs_answer_text_color:e.find('[name="faqs_answer_text_color"]').val(),faqs_answer_background_color:e.find('[name="faqs_answer_background_color"]').val(),found_faqs_article_active_tab_color:e.find('[name="found_faqs_article_active_tab_color"]').val(),found_faqs_article_tab_color:e.find('[name="found_faqs_article_tab_color"]').val(),article_post_list_title_color:e.find('[name="article_post_list_title_color"]').val(),article_post_list_icon_color:e.find('[name="article_post_list_icon_color"]').val(),single_article_read_more_text_color:e.find('[name="single_article_read_more_text_color"]').val(),single_article_read_more_text_hover_color:e.find('[name="single_article_read_more_text_hover_color"]').val(),contact_submit_button_color:e.find('[name="contact_submit_button_color"]').val(),contact_submit_button_hover_color:e.find('[name="contact_submit_button_hover_color"]').val(),contact_submit_button_text_color:e.find('[name="contact_submit_button_text_color"]').val(),contact_submit_button_text_hover_color:e.find('[name="contact_submit_button_text_hover_color"]').val(),contact_acceptance_background_color:e.find('[name="contact_acceptance_background_color"]').val(),resource_phone_color:e.find('[name="resource_phone_color"]').val(),resource_phone_hover_color:e.find('[name="resource_phone_hover_color"]').val(),resource_label_color:e.find('[name="resource_label_color"]').val(),resource_link_color:e.find('[name="resource_link_color"]').val(),resource_link_hover_color:e.find('[name="resource_link_hover_color"]').val(),welcome_title:e.find('[name="welcome_title"]').val(),contact_us_top_tab:e.find('[name="contact_us_top_tab"]').val(),resource_header_top_tab:e.find('[name="resource_header_top_tab"]').val(),resource_header_title:e.find('[name="resource_header_title"]').val(),resource_header_sub_title:e.find('[name="resource_header_sub_title"]').val(),resource_welcome_text:e.find('[name="resource_welcome_text"]').val(),faqs_top_tab:e.find('[name="faqs_top_tab"]').val(),welcome_text:e.find('[name="welcome_text"]').val(),search_input_label:e.find('[name="search_input_label"]').val(),search_input_placeholder:e.find('[name="search_input_placeholder"]').val(),article_read_more_text:e.find('[name="article_read_more_text"]').val(),search_results_title:e.find('[name="search_results_title"]').val(),breadcrumb_home_text:e.find('[name="breadcrumb_home_text"]').val(),breadcrumb_search_result_text:e.find('[name="breadcrumb_search_result_text"]').val(),breadcrumb_article_text:e.find('[name="breadcrumb_article_text"]').val(),found_faqs_tab_text:e.find('[name="found_faqs_tab_text"]').val(),found_articles_tab_text:e.find('[name="found_articles_tab_text"]').val(),found_posts_tab_text:e.find('[name="found_posts_tab_text"]').val(),no_results_found_title_text:e.find('[name="no_results_found_title_text"]').val(),protected_article_placeholder_text:e.find('[name="protected_article_placeholder_text"]').val(),article_back_button_text:e.find('[name="article_back_button_text"]').val(),search_instruction_text:e.find('[name="search_instruction_text"]').val(),no_result_contact_us_text:e.find('[name="no_result_contact_us_text"]').val(),contact_user_email_text:e.find('[name="contact_user_email_text"]').val(),contact_welcome_title:e.find('[name="contact_welcome_title"]').val(),contact_welcome_text:e.find('[name="contact_welcome_text"]').val(),contact_name_text:e.find('[name="contact_name_text"]').val(),contact_subject_text:e.find('[name="contact_subject_text"]').val(),contact_comment_text:e.find('[name="contact_comment_text"]').val(),contact_acceptance_text:e.find('[name="contact_acceptance_text"]').val(),contact_acceptance_title:e.find('[name="contact_acceptance_title"]').val(),contact_button_title:e.find('[name="contact_button_title"]').val(),contact_success_message:e.find('[name="contact_success_message"]').val(),resource_phone_label:e.find('[name="resource_phone_label"]').val(),resource_custom_link_label:e.find('[name="resource_custom_link_label"]').val(),logo_image_url:e.find('[name="logo_image_url"]').val(),mobile_break_point:e.find('[name="mobile_break_point"]').val(),tabs_position_1:e.find('[name="tabs_position_1"]:checked').val(),tabs_position_2:e.find('[name="tabs_position_2"]:checked').val(),tabs_position_3:e.find('[name="tabs_position_3"]:checked').val(),tabs_position_4:e.find('[name="tabs_position_4"]:checked').val(),preview_post_mode:e.find('[name="preview_post_mode"]:checked').val(),preview_kb_mode:e.find('[name="preview_kb_mode"]').length?e.find('[name="preview_kb_mode"]:checked').val():"",launcher_text:e.find('[name="launcher_text"]').val(),launcher_powered_by:e.find('[name="launcher_powered_by"]:checked').val(),dialog_width:e.find('[name="dialog_width"]:checked').val(),saved_preset_id:e.find('[name="saved_preset_id"]').val(),wpml_toggle:e.find('[name="wpml_toggle"]:checked').val()}}function h(e,i){let a=[];return e.find(".ephd-wp__locations-list-select--"+i+" .ephd-wp__locations-list-wrap > .ephd-wp__selected-locations-list li").each(function(){a.push(t(this).data("id"))}),a}function u(){let e="include"==t("[name=location_page_filtering]:checked").val(),i=t("label[for=location_wildcard_url] .ephd__option-tooltip ").clone();t(".ephd-wp__locations-list-select--page .ephd-wp__locations-list-search-title>span").text(e?ephd_vars.include_pages:ephd_vars.exclude_pages),t(".ephd-wp__locations-list-select--post .ephd-wp__locations-list-search-title>span").text(e?ephd_vars.include_posts:ephd_vars.exclude_posts),t(".ephd-wp__locations-list-select--cpt .ephd-wp__locations-list-search-title>span").text(e?ephd_vars.include_cpts:ephd_vars.exclude_cpts),t("label[for=location_wildcard_url]").text(e?ephd_vars.include_wildcard_url:ephd_vars.exclude_wildcard_url).append(i),this!=window&&(t(this).closest(".ephd-admin__form-tab-content-body").find(".ephd-wp__locations-list-wrap").each(function(){0==t(this).find(".ephd-wp__selected-locations-list--backup-include").length&&t(this).append('<div class="ephd-wp__selected-locations-list--backup-include"></div>'),0==t(this).find(".ephd-wp__selected-locations-list--backup-exclude").length&&t(this).append('<div class="ephd-wp__selected-locations-list--backup-exclude"></div>'),t(this).find(".ephd-wp__selected-locations-list--backup-"+(e?"exclude":"include")).html(t(this).find(".ephd-wp__selected-locations-list").html()),t(this).find(".ephd-wp__selected-locations-list").html(t(this).find(".ephd-wp__selected-locations-list--backup-"+(e?"include":"exclude")).html())}),t(this).closest(".ephd-admin__form-tab-content-body").find("#location_wildcard_url_group").each(function(){0==t(this).find(".location_wildcard_url_group--backup-include").length&&t(this).append('<div class="location_wildcard_url_group--backup-include"></div>'),0==t(this).find(".location_wildcard_url_group--backup-exclude").length&&t(this).append('<div class="location_wildcard_url_group--backup-exclude"></div>'),t(this).find(".location_wildcard_url_group--backup-"+(e?"exclude":"include")).text(t(this).find("#location_wildcard_url").val()),t(this).find("#location_wildcard_url").val(t(this).find(".location_wildcard_url_group--backup-"+(e?"include":"exclude")).text())}))}function f(e){e&&("global-settings"!=e&&"search"!=e&&"faqs"!=e||t("#ephd-hd-faq-tab").trigger("click"),"chat"==e&&t("#ephd-hd-chat-tab").trigger("click"),"resource"==e&&t("#ephd-hd-resource-tab").trigger("click"),"contact-form"==e&&t("#ephd-hd-contact-tab").trigger("click"))}function m(){if(!t(".ephd-fp__wp-editor").hasClass("active"))return;let e=tinymce.get("ephd-fp__wp-editor");t(".ephd-fp__wp-editor__language-"+A).length&&(t(".ephd-fp__wp-editor__language").removeClass("ephd-fp__wp-editor__language--active"),t(".ephd-fp__wp-editor__language-"+A).addClass("ephd-fp__wp-editor__language--active")),void 0===M[A]&&(M[A]={title:"",content:"",faq_id:0,id:0}),t("#ephd-fp__wp-editor__question-title").val(M[A].title),e&&t(".wp-editor-wrap").hasClass("tmce-active")?e.setContent(M[A].content):t("#ephd-fp__wp-editor").val(M[A].content),t(".ephd-characters_left-counter").text(M[A].content.length+"")}function g(e){L=setInterval(v,1e3);for(let e in M)M[e]={title:"",content:"",faq_id:0,id:0};if(void 0===e||!e)return t(".ephd-fp__wp-editor").addClass("active"),void m();S({action:"ephd_get_question_data",question_id:e,_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce},function(e){if(!e.error&&void 0!==e.data){for(let t in e.data)M[t]=e.data[t];void 0!==e.language&&e.language&&(A=e.language),t(".ephd-fp__wp-editor").addClass("active"),m()}})}function v(){let e=t("#ephd-fp__wp-editor__question-title");if(e.length){let i=e.val().length;i>200?(t(".ephd-fp__wp-editor__question .ephd-characters_left-counter").text(200),e.val(e.val().substring(0,200))):t(".ephd-fp__wp-editor__question .ephd-characters_left-counter").text(i)}if(t("#ephd-fp__wp-editor").length){let e=tinymce.get("ephd-fp__wp-editor"),i="";(i=e&&t(".wp-editor-wrap").hasClass("tmce-active")?e.getContent():t("#ephd-fp__wp-editor").val()).length>1500&&(i=i.substring(0,1500),e&&e.setContent(i),t("#ephd-fp__wp-editor").val(i)),t(".ephd-fp__wp-editor__answer .ephd-characters_left-counter").text(i.length)}}function w(){tinyMCE.triggerSave(),M[A].title=t("#ephd-fp__wp-editor__question-title").val(),M[A].content=t("#ephd-fp__wp-editor").val()}function b(){t(".ephd-all-questions-list-container .ephd-faq-question-container.ephd-faq-question--active").length?t(".ephd__top-section__filter label, #ephd_all_articles_filter").removeClass("ephd__top-section__filter--disabled"):t("#ephd_all_articles_filter").val()?t(".ephd__top-section__filter label, #ephd_all_articles_filter").removeClass("ephd__top-section__filter--disabled"):t(".ephd__top-section__filter label, #ephd_all_articles_filter").addClass("ephd__top-section__filter--disabled")}function q(){t(".ephd-wp__widget-preview #ephd-help-dialog .ephd-hd-faq__list__item-container").each(function(){let e=t(this).data("id"),i=t(".ephd-wp__widget-form--active .ephd-faq-question__buttons_template").html();t(i).appendTo(this).attr("data-id",e)})}function k(){let e=t(".ephd-all-questions-list-container"),i=e.children(".ephd-faq-question-container");i.detach().sort(function(e,i){let a=t(e).data("modified"),n=t(i).data("modified");return parseInt(a)<=parseInt(n)?0:-1}),e.append(i)}function x(){t('.ephd-admin__color-field input[type="text"]').wpColorPicker({change:function(e,i){setTimeout(function(){t(e.target).trigger("change")},50)}})}function C(e){if(e.hasClass("ephd-hd-tab--disabled"))return;let i=e.attr("data-ephd-target-tab"),a=t("#ephd-help-dialog");switch(i){case"chat":a.addClass("ephd-hd-chat-tab--active"),a.removeClass("ephd-hd-faqs-tab--active"),a.removeClass("ephd-hd-search--active"),a.removeClass("ephd-hd-contact-tab--active"),a.removeClass("ephd-hd-resource-tab--active");break;case"resource":a.addClass("ephd-hd-resource-tab--active"),a.removeClass("ephd-hd-chat-tab--active"),a.removeClass("ephd-hd-faqs-tab--active"),a.removeClass("ephd-hd-search--active"),a.removeClass("ephd-hd-contact-tab--active");break;case"faqs":a.addClass("ephd-hd-faqs-tab--active"),a.removeClass("ephd-hd-contact-tab--active"),a.removeClass("ephd-hd-chat-tab--active"),a.removeClass("ephd-hd-resource-tab--active");break;case"contact":a.addClass("ephd-hd-contact-tab--active"),a.removeClass("ephd-hd-faqs-tab--active"),a.removeClass("ephd-hd-search--active"),a.removeClass("ephd-hd-chat-tab--active"),a.removeClass("ephd-hd-resource-tab--active")}a.find(".ephd-hd-tab").removeClass("ephd-hd-tab--active"),e.addClass("ephd-hd-tab--active"),a.closest(".ephd-wp__widget-preview").find(".ephd-wp__widget-preview-tooltip>div").hide(),a.closest(".ephd-wp__widget-preview").find(".ephd-wp__widget-preview-tooltip--"+i).show()}function y(){let e=t("#ephd-help-dialog");t(document.body).off("click",".ephd-hd-tab"),t(document.body).on("click",".ephd-hd-tab",function(){C(t(this))});let i=t(".ephd-hd-tab--active");if(i.length>0)C(i);else{let t=e.data("ephd-tab");e.closest(".ephd-wp__widget-preview").find(".ephd-wp__widget-preview-tooltip>div").hide(),e.closest(".ephd-wp__widget-preview").find(".ephd-wp__widget-preview-tooltip--"+t).show()}}function j(){t(".ephd-fp__wp-editor").removeClass("active ephd-ai-help-sidebar--active"),t(".ephd-ai-help-sidebar__alternatives").hide(),t(".ephd-ai-help-sidebar__main").show()}function T(e,i,a){t(".ephd-ai-help-sidebar__main").hide(),t(".ephd-ai-help-sidebar__alternatives").show(),t(".ephd-ai-help-sidebar__alternatives-input__value").html(e),t(".ephd-ai-help-sidebar__alternatives-usage-tokens__value").html(i),t(".ephd-ai-help-sidebar__alternatives-title").html(a)}function D(e){return e.trim().replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")}function S(e,i,a,n,d,o){let _,l;i=void 0===i?"ephd_callback_noop":i,t.ajax({type:"POST",dataType:"json",data:e,url:ajaxurl,beforeSend:function(e){void 0!==o&&!1!==o||z("show",""),"object"==typeof o&&z("show","",o)}}).done(function(e){((l=e||"").error||void 0===l.message)&&(_=l.message?l.message:O("",ephd_vars.reload_try_again,"error"))}).fail(function(e,t,i){_=i?" ["+i+"]":ephd_vars.unknown_error,_=O(ephd_vars.error_occurred+". "+ephd_vars.msg_try_again,_,"error")}).always(function(){if(l=void 0===l?"":l,"function"==typeof d&&d(l),void 0!==o&&!1!==o||z("remove",""),"object"==typeof o&&z("remove","",o),_)return t(".ephd-bottom-notice-message").remove(),t("body #ephd-admin-page-wrap").append(_).removeClass("fadeOutDown"),void setTimeout(function(){t(".ephd-bottom-notice-message").addClass("fadeOutDown")},1e4);"function"==typeof i?"undefined"===a?i(l):i(l,a):n&&location.reload()})}function z(e,i,a){if("show"===e){let e=void 0===a?"":"ephd-admin-dialog-box-loading--relative",n='<div class="ephd-admin-dialog-box-loading '+e+'"><div class="ephd-admin-dbl__header"><div class="ephd-admin-dbl-icon ephdfa ephdfa-hourglass-half"></div>'+(i?'<div class="ephd-admin-text">'+i+"</div>":"")+'</div></div><div class="ephd-admin-dialog-box-overlay '+e+'"></div>';void 0===a?t("body").append(n):a.append(n).addClass("ephd-loading-white-opacity")}else"remove"===e&&(t(".ephd-admin-dialog-box-loading").remove(),t(".ephd-admin-dialog-box-overlay").remove(),void 0!==a&&a.removeClass("ephd-loading-white-opacity"))}function O(e,t,i){return'<div class="ephd-bottom-notice-message"><div class="contents"><span class="'+i+'">'+(e?"<h4>"+e+"</h4>":"")+(t?"<p>"+t+"</p>":"")+'</span></div><div class="ephd-close-notice ephdfa ephdfa-window-close"></div></div>'}function P(e,i=""){t(".ephd-bottom-notice-message").remove(),t("body #ephd-admin-page-wrap").append(O(i,e,"error")),clearTimeout(B),B=setTimeout(function(){t(".ephd-bottom-notice-message").addClass("fadeOutDown")},1e4)}function W(e,i=""){t(".ephd-bottom-notice-message").remove(),t("body #ephd-admin-page-wrap").append(O(i,e,"success")),clearTimeout(B),B=setTimeout(function(){t(".ephd-bottom-notice-message").addClass("fadeOutDown")},1e4)}function E(){t("#initial_message_mode").find("input:checked").length&&("icon_text"===t("#initial_message_mode").find("input:checked").val()?t("#initial_message_image_url_group").show():t("#initial_message_image_url_group").hide())}function I(){t("#ephd-dialog-pro-feature-ad-initial-message").length||("off"===t("#dialog_initial_visibility").find("input:checked").val()?t("#ephd-initial-message").show():t("#ephd-initial-message").hide())}t(".ephd-admin__reload-link").on("click",function(){t('.ephd-admin__top-panel__item[data-target="'+t(this).attr("href").replace("#","")+'"]').trigger("click")}),t(document).on("click",".ephd-hd-toggle",function(){t(".ephd-hd-toggle").hasClass("ephd-hd-toggle--on")?t(".ephd-wp__widget-preview-tooltip").hide():setTimeout(function(){t(".ephd-wp__widget-preview-tooltip").show()},400)}),t(document).on("change",'.ephd-wp__widget-form .ephd-input-group input[name="launcher_powered_by"]',function(){a()}),t(document.body).on("click",".ephd-wp__selected-locations-popup .ephd-wp__popup-show-btn",function(){return t(this).closest(".ephd-wp__selected-locations-popup").find(".ephd-admin__widget-details-popup").addClass("ephd-admin__widget-details-popup--active"),!1}),t(document.body).on("click",".ephd-admin__widget-details-popup__overlay, .ephd-admin__widget-details-popup__accept-btn",function(){t(".ephd-admin__widget-details-popup").removeClass("ephd-admin__widget-details-popup--active")}),setTimeout(function(){let e=d();void 0!==e.widget&&t(".ephd-wp__widget-tab--"+e.widget+" input.ephd_edit_widget").trigger("click")},50),t(document.body).on("input click",".ephd-wp__widget-form .ephd-wp__locations-list-input",function(e){let i=t(this).closest(".ephd-wp__widget-form"),a=t(this),n=a.val(),d=a.data("post-type");setTimeout(function(){if(n!==a.val())return;let e={action:"ephd_search_locations",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,locations_type:d,search_value:n,excluded_ids:function(e){let t=h(e,"page"),i=h(e,"post"),a=h(e,"cpt");return t.concat(i).concat(a)}(i),location_page_filtering:t('[name="location_page_filtering"]:checked').val(),widget_id:i.find('[name="widget_id"]').val(),location_language_filtering:t('[name="location_language_filtering"]').val()};!function(e){let t=e.closest(".ephd-wp__locations-list-search-body");t.length&&t.find(".ephd-wp__locations-list-input-wrap").addClass("ephd-wp__locations-list-input-wrap--loader")}(a),S(e,function(e){!function(e){let t=e.closest(".ephd-wp__locations-list-search-body");t.length&&t.find(".ephd-wp__locations-list-input-wrap").removeClass("ephd-wp__locations-list-input-wrap--loader")}(a),e.error||void 0===e.locations||i.find(".ephd-wp__locations-list-select--"+d+" .ephd-wp__found-locations-list").html(e.locations).show()},!1,!1,void 0,"no-loader")},500)}),t(document).on("click",".ephd-wp__widget-form .ephd-wp__found-locations-list li",function(e){if(e.stopPropagation(),t(this).data("assigned_widget_id")&&t(this).data("assigned_widget_id")!=t(this).closest(".ephd-wp__widget-form").find('[name="widget_id"]').val())return!1;t(this).appendTo(t(this).parent().parent().find(".ephd-wp__selected-locations-list")),_()}),t(document).on("click",function(){t(".ephd-wp__found-locations-list").html("").hide()}),t(document).on("click",".ephd-wp__widget-form .ephd-wp__selected-locations-list li",function(){let e=t(this).data("id");t('.ephd-wp__widget-form .ephd-wp__selected-locations-list li[data-id="'+e+'"]').remove(),_()}),t(document).on("click",".ephd-notification-box-basic__body__desc .ephd-hd__wizard-link",function(){t('.ephd-admin__top-panel__item[data-target="'+t(this).data("target")+'"]').trigger("click")}),t(document).on("click",".ephd-wp__widget-tab__item .ephd_edit_widget",function(e){l(e)}),l(),t(document).on("click",".ephd_copy_widget",function(e){e.preventDefault();let i=t(".ephd-widgets-page-container .ephd-wp__widget-tab--active").find(".ephd_edit_widget").data("id"),a=t(".ephd-wp__widgets-tabs .ephd-wp__widget-tabs__wrapper").find(".ephd-wp__widget-tab__item").length,n="Widget #"+ ++a;S({action:"ephd_load_widget_form",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,parent_widget_id:i,widget_id:0,widget_name:n},function(e){e.error||void 0===e.message||(t(".ephd-admin__boxes-list__box-btn-wrap").hide(),t(".ephd-wp__widget-tab__item.ephd-wp__widget-tab--active").removeClass("ephd-wp__widget-tab--active"),t(".ephd-wp__widget-form").replaceWith(e.widget_form),setTimeout(function(){t(".ephd-wp__widget-form .ephd-wp__widget-action__draft-btn").trigger("click")},50))})}),t(document).on("click",".ephd-wp__widget-form .ephd-wp__widget-action__publish-btn, .ephd-wp__widget-form .ephd-wp__widget-action__draft-btn",function(e){e.preventDefault();let d=t(this).closest(".ephd-wp__widget-form");t(this).hasClass("ephd-wp__widget-action__publish-btn")&&d.find('[name="widget_status"]').val("published"),t(this).hasClass("ephd-wp__widget-action__draft-btn")&&d.find('[name="widget_status"]').val("draft");let _=r(d,"ephd_update_widget"),l=d.find(".ephd-admin__form-tab--active").data("target");return S(_,function(e){e.error||void 0===e.message||(W(e.message),d.replaceWith(e.widget_form),t(".ephd-wp__widget-preview-content").html(e.preview),t("#ephd-public-styles-inline-css").html(e.demo_styles),t(".ephd-wp__widget-tab--"+e.widget_id).length?t(".ephd-wp__widget-tab--"+e.widget_id).replaceWith(t(e.widget_preview).find(".ephd-wp__widget-tab--"+e.widget_id)):t(".ephd-wp__widget-tabs__wrapper").append(t(e.widget_preview).find(".ephd-wp__widget-tab__item")),t('.ephd-admin__form-tab[data-target="'+l+'"]').trigger("click"),s(),q(),c(),i(),b(),a(),n(),o(),x(),y(),u(),setTimeout(function(){t(window).trigger("resize")},50))}),!1}),t(document).on("click",".ephd-wp__delete-widget-wrap input.ephd_delete_widget",function(e){t("#ephd-wp__delete-widget-confirmation").addClass("ephd-dialog-box-form--active")}),t(document).on("submit","#ephd-wp__delete-widget-confirmation",function(e){e.preventDefault();let i=t(this),a=t(".ephd-wp__widget-form"),n=a.find('[name="widget_id"]').val();return S({action:"ephd_delete_widget",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,widget_id:n},function(e){e.error||void 0===e.message||(W(e.message),i.removeClass("ephd-dialog-box-form--active"),a.removeClass("ephd-wp__widget-form--active"),t(".ephd-wp__widget-tab--"+n).fadeOut(function(){t(this).remove()}),t(".ephd-wp__widget-tab__item:first-child .ephd_edit_widget").trigger("click"),t(".ephd-admin__boxes-list__box-btn-wrap").show())}),!1}),t(document).on("click",".ephd-wp__widget-action__save-options-toggle",function(){t(this).closest(".ephd-wp__widget-form").find(".ephd-wp__widget-action__save-options-list").toggle()}),t(document).on("click",".ephd-wp__widget-form .ephd-admin__form-tab",function(){let e=t(this).data("target"),i=t(this).closest(".ephd-wp__widget-form");if(i.find(".ephd-admin__form-tab").removeClass("ephd-admin__form-tab--active"),i.find(".ephd-admin__form-tab-wrap").removeClass("ephd-admin__form-tab-wrap--active"),t(this).addClass("ephd-admin__form-tab--active"),i.find(".ephd-admin__form-tab-wrap--"+e).addClass("ephd-admin__form-tab-wrap--active"),t(this).data("preview")){let i=t(".ephd-wp__widget-preview"),a=i.find(".ephd-hd-toggle");i.show(),1==t(this).data("preview")&&(i.find(".ephd-wp__widget-preview-page").removeClass("ephd-wp__widget-preview-page--active"),i.removeClass("ephd-wp__widget-preview--closed"),f(e),a.hasClass("ephd-hd-toggle--on")||(a.trigger("click"),setTimeout(function(){t(".ephd-wp__widget-preview-tooltip").show()},100))),2==t(this).data("preview")&&(i.find(".ephd-wp__widget-preview-page").addClass("ephd-wp__widget-preview-page--active"),i.addClass("ephd-wp__widget-preview--closed"),a.hasClass("ephd-hd-toggle--on")&&a.trigger("click"));let n=i.find(".ephd-hd-tab--active").data("ephd-target-tab");i.find(".ephd-wp__widget-preview-tooltip>div").hide(),i.find(".ephd-wp__widget-preview-tooltip--"+n).show(),setTimeout(function(){t(window).trigger("resize")},50)}else t(".ephd-wp__widget-preview").hide();E(),I()}),t(document).on("click",".ephd-wp__widget-form .ephd-admin__form-sub-tab",function(){let e=t(this).data("target"),i=t(this).closest(".ephd-wp__widget-form");i.find(".ephd-admin__form-sub-tab").removeClass("ephd-admin__form-sub-tab--active"),i.find(".ephd-admin__form-sub-tab-content").removeClass("ephd-admin__form-sub-tab-content--active"),t(this).addClass("ephd-admin__form-sub-tab--active"),i.find(".ephd-admin__form-sub-tab-content--"+e).addClass("ephd-admin__form-sub-tab-content--active")}),t(document).on("click",'.ephd-wp__widget-form .ephd-admin__form-tab-wrap--search input[type="checkbox"]',function(){"search_option"===t(this).attr("name")&&c()});let N;t(document).on("change",'.ephd-wp__widget-form .ephd-admin__form-tab-wrap--colors .ekb-color-picker input[type="text"]',function(){clearTimeout(N),N=setTimeout(function(e){p(e)},300,this)}),t(document).on("click",'.ephd-wp__widget-form .ephd-wp__options-container--premade-designs input[type="radio"]',function(){t(this).closest(".ephd-wp__widget-form").find(".ephd-btn-checked-icon").removeClass("ephd-btn-checked-icon--active"),t(this).parent().find(".ephd-btn-checked-icon").addClass("ephd-btn-checked-icon--active")}),t(document).on("change",".ephd-wp__widget-form .ephd-wp__options-container--copy-design-from select",function(){let e=t(this).closest(".ephd-wp__widget-form");e.find('[name="colors_set"]').prop("checked",!1),e.find('[name="dialog_width"]').prop("checked",!1),p(this)}),t(document).on("change",".ephd-wp__widget-form .ephd-wp__options-container--copy-design-to select",function(){let e=t(this),i=e.closest(".ephd-wp__widget-form");S({action:"ephd_copy_design_to",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,current_design_id:i.find('[name="design_id"]').val(),target_design_id:t(this).val()},function(t){t.error||void 0===t.message||(W(t.message),e.val(e.data("value")))})});new MutationObserver(function(e){for(let i of e)i.removedNodes.length&&void 0!==i.removedNodes[0].id&&"ephd-editor-popup"==i.removedNodes[0].id&&p(t(".ephd-wp__widget-form--active"))}).observe(document.getElementsByTagName("body")[0],{childList:!0}),t(document).on("change",".ephd-admin__input-update_preview input, .ephd-admin__input-update_preview select, .ephd-admin__input-update_preview textarea",function(){p(this)}),t(document).on("click",".ephd-wp__tiny-mce-input--no-results-found-content-html .ephd_tiny_mce_input_save",function(){let e=t(this).closest(".ephd-wp__tiny-mce-input");S({action:"ephd_tiny_mce_input_save",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,widget_id:e.find('[name="widget_id"]').val(),option_name:"no_results_found_content_html",option_value:t("#wp-no_results_found_content_wpeditor-wrap").hasClass("tmce-active")?tinymce.activeEditor.getContent():t("#no_results_found_content_wpeditor").val()},function(e){e.error||void 0===e.message||W(e.message)})}),t(document).on("click",".ephd-wp__new-widget-form .ephd-wp__editor-link .ephd-wp__widget-form__cta-link",function(e){return e.preventDefault(),e.stopPropagation(),t("#ephd-wp__save-widget-confirmation").addClass("ephd-dialog-box-form--active"),!1}),t(document).on("submit","#ephd-wp__save-widget-confirmation",function(e){return e.preventDefault(),t(this).removeClass("ephd-dialog-box-form--active"),t(this).closest(".ephd-wp__new-widget-form").find(".ephd-wp__widget-action__save-btn").trigger("click"),!1}),t("body").on("change","[name=location_page_filtering]",u);let L=!1,M={},A="";t(".ephd-fp__wp-editor__languages").length?(t(".ephd-fp__wp-editor__language").each(function(){M[t(this).data("slug")]={title:"",content:"",faq_id:0,id:0}}),A=t(".ephd-fp__wp-editor__language").first().data("slug")):(M[ephd_vars.default_language]={title:"",content:"",faq_id:0,id:0},A=ephd_vars.lang),t(".ephd__help_editor__action__cancel, .ephd-fp__wp-editor__overlay").on("click",function(){return j(),clearInterval(L),!1}),t("#ephd-fp__article-form").on("submit",function(e){if(e.preventDefault(),v(),w(),void 0===M[ephd_vars.default_language])return P(ephd_vars.reload_try_again),!1;if(!M[ephd_vars.default_language].title)return P(ephd_vars.empty_default_language),t(".ephd-fp__wp-editor__language-"+ephd_vars.default_language).trigger("click"),!1;let a={action:"ephd_save_question_data",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,faqs_id:t("#faqs_id").val(),direction:"right",question_languages:[]};for(let e in M)a.question_languages.push(e),a["question_id_"+e]=M[e].id,a.question_faq_id||(a.question_faq_id=M[e].faq_id),a["question_title_"+e]=M[e].title,a["question_content_"+e]=M[e].content;return S(a,function(e){e.error||void 0===e.message||(W(e.message),e.data.forEach(function(e){t(".ephd-faq-question--"+e.faq_id).length?t(".ephd-faq-question--"+e.faq_id+" .ephd-faq-question__text").html(e.title):t(e.html).appendTo(".ephd-all-questions-list-container").addClass("ui-sortable-handle")}),t(".ephd-fp__wp-editor").removeClass("active"),j(),k(),i(),b(),p(t(".ephd-wp__widget-form--active").find('[name="faqs_sequence"]')))}),!1}),t(".ephd-fp__wp-editor__language").on("click",function(){w(),A=t(this).data("slug"),m()}),t(document).on("click","#ephd-fp__add_new_question",function(e){return e.preventDefault(),g(),!1}),t(document).on("click",".ephd-faq-question__edit",function(){g(t(this).closest(".ephd-faq-question").data("id"))}),t(document).on("change keyup","#ephd_all_articles_filter",function(){let e=t(this).val().toLowerCase().trim(),i=t(".ephd-wp__widget-form--active").find('[name="faqs_sequence"]').val().split(",");t(".ephd-all-questions-list-container .ephd-faq-question-container").each(function(){if(i.includes(t(this).data("id").toString()))return;let a=t(this).find(".ephd-faq-question__text").text();!e.length||~a.toLowerCase().indexOf(e)?t(this).addClass("ephd-faq-question--active"):t(this).removeClass("ephd-faq-question--active")}),b()}),t(document).on("click",".ephd-faq-question__delete",function(){let e=t(this).closest(".ephd-faq-question-container").data("id");if(void 0===e||!e)return void P(ephd_vars.reload_try_again);t("#ephd-fp_delete-question-confirmation-id").val(e);let i=t("#ephd-fp_delete-question-confirmation"),a=t('.ephd-wp__widget-form--active input[name="widget_id"]').val();t(".ephd-admin__confirm-dialog-assigned-widgets").hide(),i.find(".ephd-admin__confirm-dialog-assigned-widget").each(function(){t(this).data("faq-sequence").toString().split(",").includes(e.toString())&&t(this).data("widget-id").toString()!==a.toString()?(t(".ephd-admin__confirm-dialog-assigned-widgets").show(),t(this).show()):t(this).hide()}),i.addClass("ephd-dialog-box-form--active")}),t("#ephd-fp_delete-question-confirmation form").on("submit",function(){let e=t("#ephd-fp_delete-question-confirmation-id").val();if(void 0===e||!e)return void P(ephd_vars.reload_try_again);return S({action:"ephd_delete_question",faq_id:e,_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce},function(a){a.error||void 0===a.message||(W(a.message),t(".ephd-faq-question--"+e+", .ephd-fp__faqs__question--"+e).remove()),i(),t("#ephd-fp_delete-question-confirmation").removeClass("ephd-dialog-box-form--active")}),!1}),t(document).on("click",".ephd-faq-question__move_right",function(){let e=t(this).closest(".ephd-faq-question").data("id"),i=t(".ephd-wp__widget-form--active").find('[name="faqs_sequence"]'),a=i.val().split(",");t(".ephd-wp__widget-form--active .ephd-faq-question--"+e).addClass("ephd-faq-question--active"),a=a.filter(function(t){return t!=e}),i.val(a),p(i),b()}),t(document).on("click",".ephd-faq-question__add",function(){let e=t(this).closest(".ephd-faq-question-container").data("id"),i=t(this).closest(".ephd-wp__widget-form--active").find('[name="faqs_sequence"]'),a=i.val().split(",");t(this).closest(".ephd-faq-question-container").removeClass("ephd-faq-question--active"),a.push(e),i.val(a),p(i),b()}),t(document).on("mouseenter",".ephd-faq-question__delete",function(){t(this).closest(".ephd-faq-question-container").addClass("ephd-faq-question--delete-highlight")}),t(document).on("mouseleave",".ephd-faq-question__delete",function(){t(this).closest(".ephd-faq-question-container").removeClass("ephd-faq-question--delete-highlight")}),t(document).on("mouseenter",".ephd-faq-question__add",function(){t(this).closest(".ephd-faq-question-container").addClass("ephd-faq-question--move_left-highlight")}),t(document).on("mouseleave",".ephd-faq-question__add",function(){t(this).closest(".ephd-faq-question-container").removeClass("ephd-faq-question--move_left-highlight")}),t(document).on("mouseenter",".ephd-faq-question__move_right",function(){t(this).closest(".ephd-faq-question-container").addClass("ephd-faq-question--move_right-highlight")}),t(document).on("mouseleave",".ephd-faq-question__move_right",function(){t(this).closest(".ephd-faq-question-container").removeClass("ephd-faq-question--move_right-highlight")}),t(document).on("mouseenter",".ephd-faq-question__edit",function(){t(this).closest(".ephd-faq-question-container").addClass("ephd-faq-question--edit-highlight")}),t(document).on("mouseleave",".ephd-faq-question__edit",function(){t(this).closest(".ephd-faq-question-container").removeClass("ephd-faq-question--edit-highlight")}),k(),b(),t("body").on("click",".ephd__hdl__action__reload input",function(){location.reload()}),t(document).on("click",".ephd__wp_editor__ai-help-sidebar",function(e){e.stopPropagation()}),t(document).on("click",".ephd__wp_editor__ai-help-sidebar-btn-open",function(e){return e.preventDefault(),t(".ephd-fp__wp-editor").addClass("ephd-ai-help-sidebar--active"),!1}),t(document).on("click",".ephd-ai-help-sidebar-btn-close",function(e){t(this).closest(".ephd-fp__wp-editor").removeClass("ephd-ai-help-sidebar--active"),t(".ephd-ai-help-sidebar__alternatives-back-btn").trigger("click")}),t(document).on("click",".ephd-ai__question-fix-spelling-and-grammar-btn",function(e){e.preventDefault();let i=D(t("#ephd-fp__wp-editor__question-title").val());if(i.length<3)return!1;let a={action:"ephd_fix_question_spelling_and_grammar",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,input_text:i},n=t(this).val();return S(a,function(e){!e.error&&void 0!==e.message&&void 0!==e.fixed_input_text&&e.fixed_input_text.length>0&&(W(e.message),T(i,e.tokens_used,n),t(".ephd-ai-help-sidebar__alternatives-list").html('<div class="ephd-ai-help-sidebar__alternative-question">'+e.fixed_input_text+"</div>"))}),!1}),t(document).on("click",".ephd-ai__question-create-five-alternatives-btn",function(e){e.preventDefault();let i=D(t("#ephd-fp__wp-editor__question-title").val());if(i.length<3)return!1;let a={action:"ephd_create_five_question_alternatives",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,input_text:i},n=t(this).val();return S(a,function(e){if(!e.error&&void 0!==e.message&&void 0!==e.alternatives&&e.alternatives.length>0){W(e.message),T(i,e.tokens_used,n);let a="";for(let t=0;t<e.alternatives.length;t++)a+='<div class="ephd-ai-help-sidebar__alternative-question">'+e.alternatives[t]+"</div>";t(".ephd-ai-help-sidebar__alternatives-list").html(a)}}),!1}),t(document).on("click",".ephd-ai__answer-fix-spelling-and-grammar-btn",function(e){e.preventDefault();let i=tinymce.get("ephd-fp__wp-editor"),a="";if(a=i&&t(".wp-editor-wrap").hasClass("tmce-active")?i.getContent():t("#ephd-fp__wp-editor").val(),(a=D(a)).length<3)return!1;let n={action:"ephd_fix_answer_spelling_and_grammar",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,input_text:a},d=t(this).val();return S(n,function(e){!e.error&&void 0!==e.message&&void 0!==e.fixed_input_text&&e.fixed_input_text.length>0&&(W(e.message),T(a,e.tokens_used,d),t(".ephd-ai-help-sidebar__alternatives-list").html('<div class="ephd-ai-help-sidebar__alternative-answer">'+e.fixed_input_text+"</div>"))}),!1}),t(document).on("click",".ephd-ai__answer-create-five-alternatives-btn",function(e){e.preventDefault();let i=tinymce.get("ephd-fp__wp-editor"),a="";if(a=i&&t(".wp-editor-wrap").hasClass("tmce-active")?i.getContent():t("#ephd-fp__wp-editor").val(),(a=D(a)).length<3)return!1;let n={action:"ephd_create_five_answer_alternatives",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,input_text:a},d=t(this).val();return S(n,function(e){if(!e.error&&void 0!==e.message&&void 0!==e.alternatives&&e.alternatives.length>0){W(e.message),T(a,e.tokens_used,d);let i="";for(let t=0;t<e.alternatives.length;t++)i+='<div class="ephd-ai-help-sidebar__alternative-answer">'+e.alternatives[t]+"</div>";t(".ephd-ai-help-sidebar__alternatives-list").html(i)}}),!1}),t(document).on("click",".ephd-ai__create-answer-based-on-question-btn",function(e){e.preventDefault();let i=D(t("#ephd-fp__wp-editor__question-title").val());if(i.length<3)return!1;let a={action:"ephd_create_answer_based_on_question",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,question_text:i,max_tokens:200},n=t(this).val();return S(a,function(e){!e.error&&void 0!==e.message&&void 0!==e.generated_answer&&e.generated_answer.length>0&&(W(e.message),T(i,e.tokens_used,n),t(".ephd-ai-help-sidebar__alternatives-list").html('<div class="ephd-ai-help-sidebar__alternative-answer">'+e.generated_answer+"</div>"))}),!1}),t(document).on("click",".ephd-ai-help-sidebar__alternatives-back-btn",function(){t(".ephd-ai-help-sidebar__alternatives").hide(),t(".ephd-ai-help-sidebar__main").show()}),t(document).on("click",".ephd-ai-help-sidebar__alternative-question",function(){let e=t(this).html();e=e.replace(/^"|"$/g,""),t("#ephd-fp__wp-editor__question-title").val(e)}),t(document).on("click",".ephd-ai-help-sidebar__alternative-answer",function(){let e=tinymce.get("ephd-fp__wp-editor");e&&t(".wp-editor-wrap").hasClass("tmce-active")?e.setContent(t(this).html()):t("#ephd-fp__wp-editor").val(t(this).html())}),t(document).on("click",".ephd-admin__input-disabled, .ephd__option-pro-tag",function(){let e=t(this).closest(".ephd-input-group").find(".ephd__option-pro-tooltip"),i=e.is(":visible");t(".ephd__option-pro-tooltip").hide(),i?e.hide():e.show()}),t(document).on("click",function(e){let i=t(e.target);i.closest(".ephd__option-pro-tooltip").length||i.closest(".ephd-admin__input-disabled").length||i.closest(".ephd__option-pro-tag").length||t(".ephd__option-pro-tooltip").hide()});let B;t("body").on("change","#initial_message_mode input",E),t("body").on("change","#dialog_initial_visibility input",I)});